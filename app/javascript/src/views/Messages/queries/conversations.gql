#import './agreementFields.gql'

fragment ConversationFields on Conversation {
  id
  unreadCount
  participants {
    id
    firstName
    lastName
    name
    avatar
    isViewer
    user {
      id
      firstName
      agreement {
        ...AgreementFields
      }
      company {
        id
        name
      }
    }
    upcomingInterviews {
      id
      startsAt
      accounts {
        id
        firstName
        isViewer
        avatar
      }
    }
    specialist {
      id
      name
      firstName
      profilePath
      agreement {
        ...AgreementFields
      }
    }
  }
  lastMessage {
    id
    content
    createdAt
  }
}

query Conversations {
  currentAccount {
    id
    name
    avatar
    firstName
    lastName
  }
  conversations {
    nodes {
      ...ConversationFields
    }
  }
}
